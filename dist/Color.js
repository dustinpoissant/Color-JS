var Color=function(){function t(t){return Math.round(1e3*t)/1e3}function e(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].trim());return e}function n(t){for(var e=[],r=0;r<t.length;r++)e.push(parseFloat(t[r]));return e}function o(t,e,r){var n={r:t/255,g:e/255,b:r/255},a=Math.max(n.r,n.g,n.b),o=Math.min(n.r,n.g,n.b),u=a-o,i={};return 0==u?i.h=0:a==n.r?i.h=60*((n.g-n.b)/u%6):a==n.g?i.h=60*((n.b-n.r)/u+2):a==n.b&&(i.h=60*((n.r-n.g)/u+4)),i.l=(a+o)/2,0==u?i.s=0:i.s=u/(1-Math.abs(2*i.l-1)),i.s*=100,i.l*=100,i.h+=360,i.h%=360,i.h=Math.round(i.h),i.s=Math.round(i.s),i.l=Math.round(i.l),i}function u(e,r,n,a){var o,u,i,h,s,c,l={};return o=e%360,u=Math.min(1,Math.max(0,r/100)),i=Math.min(1,Math.max(0,n/100)),h=(1-Math.abs(2*i-1))*u,s=h*(1-Math.abs(o/60%2-1)),c=i-h/2,o<=60?l={r:h,g:s,b:0}:o<=120?l={r:s,g:h,b:0}:o<=180?l={r:0,g:h,b:s}:o<=240?l={r:0,g:s,b:h}:o<=300?l={r:s,g:0,b:h}:o<=360&&(l={r:h,g:0,b:s}),{r:t(255*(l.r+c)),g:t(255*(l.g+c)),b:t(255*(l.b+c)),a:a||1}}function i(t,e,r,n){return void 0===n||1===n?"#"+("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(e).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2):"#"+("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(e).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)+("0"+Math.round(255*n).toString(16)).slice(-2)}function h(t){var e={};if("#"==t[0])var t=t.substr(1);return 3==t.length?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+"ff":4==t.length?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:6==t.length&&(t+="ff"),e.r=parseInt(t[0]+t[1],16),e.g=parseInt(t[2]+t[3],16),e.b=parseInt(t[4]+t[5],16),e.a=parseInt(t[6]+t[7],16)/255,e}function s(t,e,r){var n,a,o,u={},t=t/255,e=e/255,r=r/255;return n=Math.max(t,e,r),a=Math.min(t,e,r),o=n-a,0==o?u.h=0:n==t?u.h=60*((e-r)/o%6):n==e?u.h=60*((r-t)/o+2):n==r&&(u.h=60*((t-e)/o+4)),0==n?u.s=0:u.s=o/n*100,u.v=100*n,1!=this.alpha&&(u.a=this.alpha),u.h=Math.round(u.h),u.s=Math.round(u.s),u.v=Math.round(u.v),u}function c(t,e,r){var t,n,a,o;return t%=360,n=r/100*(e/100),a=n*(1-Math.abs(t/60%2-1)),o=r/100-n,t<=60?rgb={r:n,g:a,b:0}:t<=120?rgb={r:a,g:n,b:0}:t<=180?rgb={r:0,g:n,b:a}:t<=240?rgb={r:0,g:a,b:n}:t<=300?rgb={r:a,g:0,b:n}:t<=360&&(rgb={r:n,g:0,b:a}),{r:Math.round(255*(rgb.r+o)),g:Math.round(255*(rgb.g+o)),b:Math.round(255*(rgb.b+o))}}function l(e,r,n){var a={},o={};return a.r=e/255,a.g=r/255,a.b=n/255,o.k=1-Math.max(a.r,a.g,a.b),o.c=(1-a.r-o.k)/(1-o.k),o.m=(1-a.g-o.k)/(1-o.k),o.y=(1-a.b-o.k)/(1-o.k),o.c*=100,o.m*=100,o.y*=100,o.k*=100,1!=this.alpha&&(o.a=this.alpha),o.c=t(o.c),o.m=t(o.m),o.y=t(o.y),o.k=t(o.k),o}function f(e,r,n,a){var o={c:e,m:r,y:n,k:a};return o.c/=100,o.m/=100,o.y/=100,o.k/=100,{r:t(100*(1-o.c)*(1-o.k)),g:t(100*(1-o.m)*(1-o.k)),b:t(100*(1-o.y)*(1-o.k))}}function p(){var r=this,a=0,b=0,g=0,m=1;Object.defineProperty(r,"rgb",{get:function(){return 1==m?"rgb("+[Math.round(a),Math.round(b),Math.round(g)].join(", ")+")":"rgba("+[Math.round(a),Math.round(b),Math.round(g),m].join(", ")+")"},set:function(t){var r=n(e(t.split("(")[1].split(")")[0].split(",")));a=r[0],b=r[1],g=r[2],m=4==r.length?r[3]:1},enumerable:!0}),Object.defineProperty(r,"hex",{get:function(){return i(a,b,g,1!=m?m:void 0)},set:function(t){var e=h(t);a=e.r,b=e.g,g=e.b,m=e.a},enumerable:!0}),Object.defineProperty(r,"hsl",{get:function(){var t=o(a,b,g);return 1==m?"hsl("+t.h+", "+t.s+"%, "+t.l+"%)":"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+m+")"},set:function(t){var r=n(e(t.split("(")[1].split(")")[0].split(","))),o=4==r.length?u(r[0],r[1],r[2],r[3]):u(r[0],r[1],r[2]);a=o.r,b=o.g,g=o.b,m=4==r.length?o.a:1},enumerable:!0}),Object.defineProperty(r,"hsv",{get:function(){var t=s(a,b,g);return 1==m?"hsv("+t.h+", "+t.s+"%, "+t.v+"%)":"hsva("+t.h+", "+t.s+"%, "+t.v+"%, "+m+")"},set:function(t){var r=n(e(t.split("(")[1].split(")")[0].split(","))),o=c(r[0],r[1],r[2]);a=o.r,b=o.g,g=o.b,m=4==r.length?r[3]:1},enumerable:!0}),Object.defineProperty(r,"cmyk",{get:function(){var t=l(a,b,g);return 1==m?"cmyk("+[Math.round(t.c),Math.round(t.m),Math.round(t.y),Math.round(t.k)].join("%, ")+"%)":"cmyka("+[Math.round(t.c),Math.round(t.m),Math.round(t.y),Math.round(t.k)].join("%, ")+"%, "+m+")"},set:function(t){var r=n(e(t.split("(")[1].split(")")[0].split(","))),o=f(r[0],r[1],r[2],r[3]);a=o.r,b=o.g,g=o.b,m=5==r.length?r[4]:1},enumerable:!0}),Object.defineProperty(r,"red",{get:function(){return Math.round(a)},set:function(t){a=Math.min(255,Math.max(0,parseInt(t)))},enumerable:!0}),Object.defineProperty(r,"green",{get:function(){return Math.round(b)},set:function(t){b=Math.min(255,Math.max(0,parseInt(t)))},enumerable:!0}),Object.defineProperty(r,"blue",{get:function(){return Math.round(g)},set:function(t){g=Math.min(255,Math.max(0,parseInt(t)))},enumerable:!0}),Object.defineProperty(r,"alpha",{get:function(){return m},set:function(t){m=Math.max(0,Math.min(1,parseFloat(t)))},enumerable:!0}),Object.defineProperty(r,"hue",{get:function(){return o(a,b,g).h%360},set:function(t){var e=o(a,b,g);e.h=Math.min(360,Math.max(0,parseInt(t)));var r=u(e.h,e.s,e.l);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"saturation",{get:function(){return o(a,b,g).s},set:function(t){var e=o(a,b,g);e.s=Math.min(100,Math.max(0,parseFloat(t)));var r=u(e.h,e.s,e.l);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"lightness",{get:function(){return o(a,b,g).l},set:function(t){var e=o(a,b,g);e.l=Math.min(100,Math.max(0,parseFloat(t)));var r=u(e.h,e.s,e.l);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"brightness",{get:function(){var t=s(a,b,g);return t.v},set:function(t){var e=s(a,b,g);e.v=Math.min(100,Math.max(0,parseInt(t)));var r=c(e.h,e.s,e.v);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"black",{get:function(){return Math.round(l(a,b,g).k)},set:function(t){var e=l(a,b,g);e.k=Math.min(100,Math.max(100,parseFloat(t)));var r=f(e.c,e.m,e.y,e.k);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"white",{get:function(){return 100-r.black},set:function(t){r.black=100-parseFloat(t)},enumerable:!0}),Object.defineProperty(r,"cyan",{get:function(){return Math.round(l(a,b,g).c)},set:function(t){var e=l(a,b,g);e.c=Math.min(100,Math.max(0,parseFloat(t)));var r=f(e.c,e.m,e.y,e.k);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"magenta",{get:function(){return Math.round(l(a,b,g).m)},set:function(t){var e=l(a,b,g);e.m=Math.min(100,Math.max(0,parseFloat(t)));var r=f(e.c,e.m,e.y,e.k);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"yellow",{get:function(){return Math.round(l(a,b,g).y)},set:function(t){var e=l(a,b,g);e.y=Math.min(100,Math.max(0,parseFloat(t)));var r=f(e.c,e.m,e.y,e.k);a=r.r,b=r.g,g=r.b},enumerable:!0}),Object.defineProperty(r,"luminance",{get:function(){return t(100*(a/255*.229+b/255*.587+g/255*.114))},enumerable:!0});for(var d in p.fn)console.log(d,p.fn[d]),Object.defineProperty(r,d,{get:function(){return p.fn[d]}});(function(t,e,n,a){t instanceof p?(r.red=t.red,r.green=t.green,r.blue=t.blue):"number"==typeof t&&"number"==typeof e&&"number"==typeof n?(r.red=t,r.green=e,r.blue=n,r.alpha=a||1):"string"==typeof t&&(0==t.indexOf("rgb")?r.rgb=t:0==t.indexOf("hsl")?r.hsl=t:0==t.indexOf("hsv")?r.hsv=t:0==t.indexOf("cmyk")?r.cmyk=t:r.hex=t)}).apply(r,arguments)}return p.prototype.clone=function(){return new p(this.red,this.green,this.blue)},p.prototype.grayscale=function(t){var e,r=this.red,n=this.green,o=this.blue;if("average"==t)e=(r+n+o)/3;else if("max"==t)e=Math.max(r,n,o);else if("min"==t)e=Math.min(r,n,o);else if("desaturate"==t){var u=self.clone();u.saturation=0,e=u.red}else e="rec709"==t?255*(r/255*.2125+n/255*.7152+o/255*.0722):"smpte249"==t?255*(r/255*.212+n/255*.701+o/255*.087):255*(r/255*.229+n/255*.587+o/255*.114);return new p(e,e,e,a)},p.prototype.saturate=function(t){var e=this.clone();return e.saturation+=t,e},p.prototype.desaturate=function(){return function(t){var e=this.clone();return e.saturation-=t,e}},p.prototype.darken=function(t){var e=this.clone();return e.lightness-=t,e},p.prototype.lighten=function(t){var e=this.clone();return e.lightness+=t,e},p.prototype.shift=function(t){var e=this.clone();return e.hue+=t,e},p.prototype.blend=function(t,e){var e=(e||50)/100;return new p(t.red*e+this.red*(1-e),t.green*e+this.green*(1-e),t.blue*e+this.blue*(1-e))},p.prototype.compliment=function(){return this.shift(180)},p.prototype.inverse=function(){return new p(255-r,255-g,255-b)},p.prototype.adjust=function(t){var e=["red","green","blue","alpha","cyan","magenta","yellow","black","white","hue","saturation","lightness","brightness"],r=this.clone();for(var n in t)e.indexOf(n)>-1&&(r[n]+=t[n]);return r},p}();